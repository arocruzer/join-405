<!DOCTYPE html>
<html lang="de">
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link
    href="https://fonts.googleapis.com/css2?family=Delius+Swash+Caps&family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&family=Open+Sans:ital,wght@0,300..800;1,300..800&family=Raleway:ital,wght@0,100..900;1,100..900&display=swap"
    rel="stylesheet"
  />
  <link rel="icon" type="image/x-icon" href="../Assets/favIcon.png" />

  <link rel="stylesheet" href="../style.css" />
  <link rel="stylesheet" href="../CSS/header.css" />
  <link rel="stylesheet" href="../CSS/nav-bar.css" />
  <link rel="stylesheet" href="../CSS/board.css" />
  <link rel="stylesheet" href="../CSS/header.css" />
  

  <script src="../script.js"></script>
  <script src="../JS/board.js"></script>
  <script src="../JS/add-task.js"></script>
  <script src="../JS/nav-bar.js"></script>
  <script src="../JS/header.js"></script>
  <script src="../JS/template.js"></script>

  <title>Board</title>

  <body id="body" onload="init()">
    <div id="frame">
      <div id="main-container">
        <div id="header" w3-include-html="../HTML/header.html"></div>
        <div class="board-container">
          <div class="header-board hidden" id="sectionBoard">
            <div class="section">
              <h1>Board</h1>
              <div onclick="openInputPage('todo')" class="add-task-board">
                +
              </div>
            </div>

            <!-- Search Bar -->
            <div class="search-container">
              <input
                type="text"
                id="search"
                placeholder="Find Task"
                oninput="searchTasks()"
              />
              <img
                class="search-icon"
                src="../Assets/search.png"
                alt="search-icon"
              />
            </div>
          </div>
          <div class="header-board" id="sectionBoardPlus">
            <h1>Board</h1>
            <div class="section-board">
              <div class="search-container">
                <input
                  type="text"
                  id="searchTask"
                  placeholder="Find Task"
                  oninput="searchTasks()"
                />
                <img
                  class="search-icon"
                  src="../Assets/search.png"
                  alt="search-icon"
                />
              </div>

              <div onclick="openInputPage('todo')" class="add-task-board-plus">
                + Add Task
              </div>
            </div>
          </div>

          <div class="board">
            <div
              class="column"
              id="todo"
              ondragover="allowDrop(event)"
              ondrop="drop(event)"
            >
              <div class="column-header">
                <h2>To Do</h2>
                <button onclick="openInputPage('todo')" class="add-task">
                  +
                </button>
              </div>
              <div class="task-list" id="taskList">
                <div class="no-tasks">No tasks To do</div>
              </div>
              <div class="task-container" id="todo-tasks"></div>
            </div>
            <div
              class="column"
              id="in-progress"
              ondragover="allowDrop(event)"
              ondrop="drop(event)"
            >
              <div class="column-header">
                <h2>In Progress</h2>
                <button onclick="openInputPage('in-progress')" class="add-task">
                  +
                </button>
              </div>
              <div class="task-list">
                <div class="no-tasks">No tasks In progress</div>
              </div>
              <div
                class="task-container in-progress"
                id="in-progress-tasks"
              ></div>
            </div>
            <div
              class="column"
              id="await-feedback"
              ondragover="allowDrop(event)"
              ondrop="drop(event)"
            >
              <div class="column-header">
                <h2>Await Feedback</h2>
                <button
                  onclick="openInputPage('await-feedback')"
                  class="add-task"
                >
                  +
                </button>
              </div>
              <div class="task-list">
                <div class="no-tasks">No tasks Await feedback</div>
              </div>
              <div
                class="task-container await-feedback"
                id="await-feedback-tasks"
              ></div>
            </div>
            <div
              class="column"
              id="done"
              ondragover="allowDrop(event)"
              ondrop="drop(event)"
            >
              <div class="column-header">
                <h2>Done</h2>
              </div>
              <div class="task-list">
                <div class="no-tasks">No tasks Done</div>
              </div>
              <div class="task-container done" id="done-tasks"></div>
            </div>
          </div>
        </div>
        <!-- Modal for Task Details -->
        <div id="taskModal" class="modal">
          <div class="modal-content">
            <div class="task-modal">
              <span class="close-button" onclick="closeTaskModal()"
                >&times;</span
              >

              <!-- Kategorie als Label -->
              <h3 id="modalCategory" class="category-label"></h3>

              <!-- Titel -->
              <h2 id="modalTitle"></h2>

              <!-- Beschreibung -->
              <p id="modalDescription"></p>

              <!-- Fälligkeitsdatum und Priorität -->
              <p class="modalDueDate">
                <strong>Due date:</strong> <span id="modalDueDate"></span>
              </p>
              <p class="modalPriority">
                <strong>Priority:</strong> <span id="modalPriority"></span>
              </p>

              <!-- Zugewiesene Benutzer -->
              <p><strong>Assigned To:</strong></p>
              <div id="modalAssignedUsers"></div>

              <p><strong>Subtasks:</strong></p>
              <div id="modalSubtasks"></div>

              <!-- Edit und Delete Buttons -->
              <div class="modal-footer">
                <img
                  onclick="deleteTask()"
                  class="delete-button"
                  src="../Assets/delete_black.png"
                  alt="Delete Icon"
                />
                <span class="line">|</span>
                <img
                  onclick="editTask()"
                  class="edit-button"
                  src="../Assets/edit_black.png"
                  alt="Edit Icon"
                />
              </div>
            </div>
          </div>
        </div>
        <div id="modalAddtask" class="modal-task hidden">
            <div class="modal-content-task">
                <div class="close-button-task" onclick="closeModal()">&times;</div>
                <div id="main-content-placeholder"></div>
            </div>
        </div>
        <div id="editTaskModal" class="modal">
          <div class="modal-edit-content">
              <span class="close-button" onclick="closeEditTaskModal()">&times;</span>
              <label for="editTitle">Titel</label>
              <input type="text" id="editTitle" class="title-input" />
              <label for="editDescription">Description</label>
              <textarea id="editDescription" class="description-input"></textarea>
              <label for="editDueDate">Due date</label>
              <input type="date" id="editDueDate" class="date-input" />
              <label for="editPriority">Priorität</label>
              <div class="prio-btn-container">
                <button onclick="changeColorPrioBtn('urgent') "id="btn-urgent" class="btn-prio-urgent">Urgent<img id="urgent-img" src="../Assets/prio_urgent.png" alt="Urgent" /></button>
                <button onclick="changeColorPrioBtn('medium')" id="btn-medium" class="btn-prio-medium">Medium<img id="medium-img" src="../Assets/prio_medium.png" alt="Medium" /></button>
                <button onclick="changeColorPrioBtn('low')"id="btn-low" class="btn-prio-low">Low<img id="low-img" src="../Assets/prio_low.png" alt="Low" /></button>
              </div>
              <label for="editUser">Assigned to</label>
              <div onclick="openDropDownMenuUser(), addUserToTask()" class="drop-down">
                <div>Select contacts to assign</div>
                <div>
                  <img class="drop-down-arrow" id="drop-down-arrow-contacts" src="../Assets/arrow_drop_downaa (1).png" alt="Arrow down"/>
                </div>
              </div>
              <div class="contact-list-container" id="contact-list"></div>
              <div id="addedUers"></div>
              <label for="editSubtask">Subtasks</label>
              <div class="subtask-container">
                <input oninput="toggleButtonVisibility()" class="subtusk-input" type="text" placeholder="Add new subtask" id="newSubtask"/>
                <img onclick="toggleButtonVisibility(true)" id="plusButton" class="plus-img" src="../Assets/Subtasks +.png" alt=""/>
                <button class="add-subtask" id="confirmButton" onclick="addSubtask()">
                  <img src="../Assets/check_blue.png" alt="" />
                </button>
                <span class="linie" id="linie" onclick="cancelSubtask()">|</span>
                <button class="cancle-subtask" id="cancelButton" onclick="cancelSubtask()">
                  <img src="../Assets/iconoir_cancel.png" alt="" />
                </button>
              </div>
              <div id="subtaskLabels" class="subtask-label-container"></div>
              <button class="btnPrimary" onclick="saveTaskEdits()">Ok</button>
          </div>
        </div>
      
        
      </div>

      <div id="nav-bar" w3-include-html="../HTML/nav-bar.html"></div>
    </div>
  </body>
</html>
